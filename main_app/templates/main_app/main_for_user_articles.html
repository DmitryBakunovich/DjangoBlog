{% load static %}
<div class="all_article_body">
    <div class="all_article_size">
        <div class="white_background_above">
            {% if request.user.is_authenticated %}
             <div class="body_tags">
                 <a href="{% url 'new_post' %}" class="add_article">
                     <div>ADD ARTICLE</div>
                 </a>
             </div>
            {% endif %}
        </div>
        <div class="creator_articles">
            <p>Статьи
                <a href="{% url 'user_profile' user.id %}">{{user.get_full_name}}</a>
            </p>
        </div>
        <div class="author_page_img">
            <div class="author_avatar" style="background: url('{{ user.avatar.url }}');
                                              background-size: cover;
                                              background-position: center;">
            </div>
        </div>
        <div class="all_article">
        {% for article in articles %}
            <div class="user_article">
                <a href="{% url 'article_detail' article.slug %}">
                    <div class="short_description" style="background-image: url('{{ article.image.url }}')">
                        <div style="background: #00000087; width: 100%; height: 100%">
                            <div class="top_border" style="
                                                opacity: 1;
                                                width: 515px;
                                                margin-left: auto;
                                                margin-right: auto;
                                                padding-top: 20px;
                                                border-bottom: 1px solid #D2D7DB;;
                                            "></div>
                            <p style="opacity: 1">{{ article.short_description }}</p>
                            {% if article.author_id == request.user.id %}
                                <div class="edit_or_delete_article" style="display: flex; float: right; margin-right: 10px;">
                                    <a href="{% url 'edit_article' article.id %}">
                                        <img alt="edit article"
                                             title="EDIT ARTICLE"
                                             class="edit_article"
                                             src="{% static 'css/edit_article.png' %}"
                                        >
                                    </a>
                                    <a href="{% url 'delete_article' article.id %}">
                                        <img alt="delete article"
                                             title="DELETE ARTICLE"
                                             class="delete_article"
                                             src="{% static 'css/delete_article.png'%}"
                                        >
                                    </a>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <img src="{{ article.image.url }}" style="object-fit: cover;
	width: 120px;
	height: 110px;
	margin-right: 20px;">
                    <div class="user_article_and_img">
                        <a class="user_article_date">{{ article.date.date }}</a>
                        <br>
                        <a class="user_article_id" href="{% url 'article_detail' article.slug %}">{{ article.title }}</a>
                    </div>
                    <div class="user_article_border">
                        <div class="user_article_social">
                            <div class="user_show_like">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve" style="    margin-right: 7px;">
                                    <g id="like">
                                        <path fill-rule="evenodd" clip-rule="evenodd" fill="#8A8A8A" d="M29.164,10.472c-1.25-0.328-4.189-0.324-8.488-0.438   c0.203-0.938,0.25-1.784,0.25-3.286C20.926,3.16,18.312,0,16,0c-1.633,0-2.979,1.335-3,2.977c-0.022,2.014-0.645,5.492-4,7.256   c-0.246,0.13-0.95,0.477-1.053,0.522L8,10.8C7.475,10.347,6.747,10,6,10H3c-1.654,0-3,1.346-3,3v16c0,1.654,1.346,3,3,3h3   c1.19,0,2.186-0.719,2.668-1.727c0.012,0.004,0.033,0.01,0.047,0.012c0.066,0.018,0.144,0.037,0.239,0.062   C8.972,30.352,8.981,30.354,9,30.359c0.576,0.143,1.685,0.408,4.055,0.953C13.563,31.428,16.247,32,19.027,32h5.467   c1.666,0,2.867-0.641,3.582-1.928c0.01-0.02,0.24-0.469,0.428-1.076c0.141-0.457,0.193-1.104,0.023-1.76   c1.074-0.738,1.42-1.854,1.645-2.58c0.377-1.191,0.264-2.086,0.002-2.727c0.604-0.57,1.119-1.439,1.336-2.766   c0.135-0.822-0.01-1.668-0.389-2.372c0.566-0.636,0.824-1.436,0.854-2.176l0.012-0.209C31.994,14.275,32,14.194,32,13.906   C32,12.643,31.125,11.032,29.164,10.472z M7,29c0,0.553-0.447,1-1,1H3c-0.553,0-1-0.447-1-1V13c0-0.553,0.447-1,1-1h3   c0.553,0,1,0.447,1,1V29z M29.977,14.535C29.957,15.029,29.75,16,28,16c-1.5,0-2,0-2,0c-0.277,0-0.5,0.224-0.5,0.5S25.723,17,26,17   c0,0,0.438,0,1.938,0s1.697,1.244,1.6,1.844C29.414,19.59,29.064,21,27.375,21C25.688,21,25,21,25,21c-0.277,0-0.5,0.223-0.5,0.5   c0,0.275,0.223,0.5,0.5,0.5c0,0,1.188,0,1.969,0c1.688,0,1.539,1.287,1.297,2.055C27.947,25.064,27.752,26,25.625,26   c-0.719,0-1.631,0-1.631,0c-0.277,0-0.5,0.223-0.5,0.5c0,0.275,0.223,0.5,0.5,0.5c0,0,0.693,0,1.568,0   c1.094,0,1.145,1.035,1.031,1.406c-0.125,0.406-0.273,0.707-0.279,0.721C26.012,29.672,25.525,30,24.494,30h-5.467   c-2.746,0-5.47-0.623-5.54-0.639c-4.154-0.957-4.373-1.031-4.634-1.105c0,0-0.846-0.143-0.846-0.881L8,13.563   c0-0.469,0.299-0.893,0.794-1.042c0.062-0.024,0.146-0.05,0.206-0.075c4.568-1.892,5.959-6.04,6-9.446c0.006-0.479,0.375-1,1-1   c1.057,0,2.926,2.122,2.926,4.748C18.926,9.119,18.83,9.529,18,12c10,0,9.93,0.144,10.812,0.375C29.906,12.688,30,13.594,30,13.906   C30,14.249,29.99,14.199,29.977,14.535z"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" fill="#8A8A8A" d="M4.5,26C3.672,26,3,26.672,3,27.5S3.672,29,4.5,29   S6,28.328,6,27.5S5.328,26,4.5,26z M4.5,28C4.225,28,4,27.775,4,27.5S4.225,27,4.5,27S5,27.225,5,27.5S4.775,28,4.5,28z"/>
                                    </g>
                                    </svg>
                                {{ article.like_count }}
                            </div>
                            <div class="user_show_comment">
                                <svg width="15" height="14" style="margin-right: 7px;">
                                    <use xlink:href="#comment-icon">
                                        <svg viewBox="0 0 15 14" id="comment-icon">
                                            <path fill="#8A8A8A" d="M0 1.5V9.75C0 10.563 0.687 11.25 1.5 11.25H3.5V13.75C3.5 13.8532 3.5635 13.946 3.65975 13.9832C3.68925 13.9948 3.71975 14 3.75 14C3.819 14 3.8865 13.9715 3.935 13.9183L6.3605 11.25H13.5C14.313 11.25 15 10.563 15 9.75V1.5C15 0.687 14.313 0 13.5 0H1.5C0.687 0 0 0.687 0 1.5ZM10 5.5C10 4.9485 10.4485 4.5 11 4.5C11.5515 4.5 12 4.9485 12 5.5C12 6.0515 11.5515 6.5 11 6.5C10.4485 6.5 10 6.0515 10 5.5ZM6.5 5.5C6.5 4.9485 6.9485 4.5 7.5 4.5C8.0515 4.5 8.5 4.9485 8.5 5.5C8.5 6.0515 8.0515 6.5 7.5 6.5C6.9485 6.5 6.5 6.0515 6.5 5.5ZM3 5.5C3 4.9485 3.4485 4.5 4 4.5C4.5515 4.5 5 4.9485 5 5.5C5 6.0515 4.5515 6.5 4 6.5C3.4485 6.5 3 6.0515 3 5.5Z"></path>
                                        </svg>
                                    </use>
                                </svg>
                                {{ article.comment_count }}
                            </div>
                            <a href="" class="user_article_autor">
                                <div class="user_img_and_name">
                                    <img src="{{article.author.avatar.url}}">
                                    <span>{{ article.author.get_full_name }}</span>
                                </div>
                            </a>
                        </div>
                    </div>
                </a>
            </div>
        {% endfor %}
        </div>
        <div class="white_background_paginator">
            <div class="pagination">
                {% if articles.has_previous %}
                    <a class="pagination-action" href="?page=1">FIRST</a>
                    <a class="pagination-action" href="?page={{ articles.previous_page_number }}">PREVIOUS</a>
                {% endif %}

                {% for num in articles.paginator.page_range %}
                    {% if articles.number == num %}
                        <span class="pagination-number pagination-current">{{ num }}</span>
                    {% elif num > articles.number|add:'-3' and num < articles.number|add:'3' %}
                        <a class="pagination-number" href="?page={{ num }}">{{ num }}</a>
                    {% endif %}
                {% endfor %}

                {% if articles.has_next %}
                    <a class="pagination-action" href="?page={{ articles.next_page_number }}">NEXT</a>
                    <a class="pagination-action" href="?page={{ articles.paginator.num_pages }}">LAST</a>
                {% endif %}
            </div>
        </div>
    </div>
</div>